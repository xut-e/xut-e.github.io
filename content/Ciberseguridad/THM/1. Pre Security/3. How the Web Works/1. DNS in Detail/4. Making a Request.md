>¿Qué ocurre cuando hacemos una petición DNS?

1. Cuando pedimos el nombre de dominio, el ordenador primero comprueba la caché local. Si no está ahí (no se ha usado recientemente) se hace una petición a tu Servidor DNS Recursivo.
2. Un servidor DNS recursivo es normalmente dado por tu ISP pero también puedes escoger el tuyo. Este servidor también tienen una caché del mismo estilo. Si la respuesta se encuentra se manda de vuelta casi instantaaneamente. Si no, una búsqueda comienza, empezando por los servidores root de DNS.
![[009.png]]
3. Los servidores root DNS actuan como el esqueleto de internet. Su trabajo es redirigirte al TLD correcto. Para la petición www.tryhackme.com, el root server DNS identificará .com y lo mandará al servidor en el que lidia con ese TLD.
4. Un sesrvidor TLD tiene actas de dónde encontrar el servidor autorizado para responder la petición DNS. Este servidor autorizado también se conoce como mnameserver para el dominio. El de tryhackme.com es kip.ns.cloudfare.com y uma.ns.cloudfare.com.
5. Un servidor autorizado es el servidor responsable de guardar los records DNS para un dominio particular. Dependiendo del tipo de record, se manda de vuelta al servidor recursivo donde una copia local se almacena en la caché. Todos los records DNS vienen con un valor TTL (Time To Live). Este número indica, en segundos, el tiempo que debería guardarse localmente hasta volver a mirarlo.