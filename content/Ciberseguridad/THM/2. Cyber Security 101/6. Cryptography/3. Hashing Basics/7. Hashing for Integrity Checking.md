En esta lección vamos a ver cómo podemos usar las funciones hasheadoras para comprobar la integridad de los archivos.

-----------
<h2>Comprobación de Integridad</h2>
El hashing puede ser usado para comprobar que los archivos no han cambiado. Si pones siempre la misma información de entrada, siempre obtendrás la misma de salida. También es útil para encontrar y eliminar archivos duplicados.

------------
<h2>HMACs</h2>
HMAC (Keyed-Hash Message Authentification Code) es un tipo de código de mensaje de autentificación que usa una función hasheadora de criptografía en combinación con una clave secreta para verificar la autenticidad e integridad de los datos.

Un HMAC puede ser usado para asegurarse de que la persona que lo ha creado es quien dice ser. Además prueba que el mensaje original no ha sido modificado o corrompido.

Aquí cómo funciona HMAC:

1. La clave secreta es añadida al tamaño de la función hasheadora.
2. La clave añadida es pasada por un XOR con una constante (usualmente un bloque de 0 y 1).
3. El mensaje es hasheado usando la función hasheadora con la clave pasada por un XOR.
4. El resultado del paso 3 se hashea de nuevo con la misma función pero usando la clave añadida pasada por XOR con otra constante.
5. El resultado final es el valor HMAC.

En la ilustración se muestra:

![[133.jpg]]

Técnicamente hablando, la función HMAC se calcula de la siguiente manera:

`HMAC(K,M) = H((K ⊕ opad) || H((K ⊕ ipad) || M))`

M y K representan el mensaje y la clave, respectivamente.